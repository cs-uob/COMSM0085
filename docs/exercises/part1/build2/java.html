<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Java - Exercises</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../overview.html">Overview</a></li><li class="chapter-item expanded affix "><li class="part-title">Week 1: POSIX Systems</li><li class="chapter-item expanded "><a href="../posix1/index.html"><strong aria-hidden="true">1.</strong> System Administration</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../posix1/ssh.html"><strong aria-hidden="true">1.1.</strong> Secure shell</a></li><li class="chapter-item expanded "><a href="../posix1/install.html"><strong aria-hidden="true">1.2.</strong> Installing Vagrant and Debian</a></li><li class="chapter-item expanded "><a href="../posix1/admin.html"><strong aria-hidden="true">1.3.</strong> Debian system administration</a></li></ol></li><li class="chapter-item expanded "><a href="../posix2/index.html"><strong aria-hidden="true">2.</strong> The POSIX Shell</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../posix2/shell.html"><strong aria-hidden="true">2.1.</strong> Shell expansion</a></li><li class="chapter-item expanded "><a href="../posix2/pipes.html"><strong aria-hidden="true">2.2.</strong> Pipes</a></li><li class="chapter-item expanded "><a href="../posix2/regex.html"><strong aria-hidden="true">2.3.</strong> Regular expressions</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Week 2: Version Control</li><li class="chapter-item expanded "><a href="../git/index.html"><strong aria-hidden="true">3.</strong> Git</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../git/git.html"><strong aria-hidden="true">3.1.</strong> Git</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Week 3: Shell Scripting & Build Tools</li><li class="chapter-item expanded "><a href="../posix3/index.html"><strong aria-hidden="true">4.</strong> Shell Scripting</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../posix3/permissions.html"><strong aria-hidden="true">4.1.</strong> File permissions</a></li><li class="chapter-item expanded "><a href="../posix3/script.html"><strong aria-hidden="true">4.2.</strong> Shell scripting</a></li></ol></li><li class="chapter-item expanded "><a href="../build2/index.html"><strong aria-hidden="true">5.</strong> Build Tools</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../build2/c.html"><strong aria-hidden="true">5.1.</strong> C</a></li><li class="chapter-item expanded "><a href="../build2/python.html"><strong aria-hidden="true">5.2.</strong> Python</a></li><li class="chapter-item expanded "><a href="../build2/java.html" class="active"><strong aria-hidden="true">5.3.</strong> Java</a></li><li class="chapter-item expanded "><a href="../build2/spring.html"><strong aria-hidden="true">5.4.</strong> Spring</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Week 4: Debugging</li><li class="chapter-item expanded "><a href="../build1/index.html"><strong aria-hidden="true">6.</strong> Debugging</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../build1/exercise.html"><strong aria-hidden="true">6.1.</strong> Exercise</a></li></ol></li><li class="chapter-item expanded "><a href="../posix4/index.html"><strong aria-hidden="true">7.</strong> Bonus POSIX (unassessed)</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../posix4/stat.html"><strong aria-hidden="true">7.1.</strong> inodes and system calls</a></li><li class="chapter-item expanded "><a href="../posix4/concurrent.html"><strong aria-hidden="true">7.2.</strong> Concurrent programming in POSIX</a></li><li class="chapter-item expanded "><a href="../posix4/cpipe.html"><strong aria-hidden="true">7.3.</strong> Pipes in C</a></li><li class="chapter-item expanded "><a href="../posix4/c_io.html"><strong aria-hidden="true">7.4.</strong> Input/Output in C</a></li><li class="chapter-item expanded "><a href="../posix4/posix_io.html"><strong aria-hidden="true">7.5.</strong> Input/Output in POSIX</a></li><li class="chapter-item expanded "><a href="../posix4/final.html"><strong aria-hidden="true">7.6.</strong> The final challenge</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Week 5: Databases</li><li class="chapter-item expanded "><a href="../db1/sql-introduction.html"><strong aria-hidden="true">8.</strong> SQL introduction</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../db1/setup.html"><strong aria-hidden="true">8.1.</strong> Set up the database</a></li><li class="chapter-item expanded "><a href="../db1/er-diagram.html"><strong aria-hidden="true">8.2.</strong> ER diagram</a></li><li class="chapter-item expanded "><a href="../db1/er2.html"><strong aria-hidden="true">8.3.</strong> More modelling</a></li><li class="chapter-item expanded "><a href="../db2/explore-database.html"><strong aria-hidden="true">8.4.</strong> Explore the database</a></li><li class="chapter-item expanded "><a href="../db2/elections.html"><strong aria-hidden="true">8.5.</strong> Bristol elections</a></li><li class="chapter-item expanded "><a href="../db2/census.html"><strong aria-hidden="true">8.6.</strong> The UK census</a></li><li class="chapter-item expanded "><a href="../db2/normalforms.html"><strong aria-hidden="true">8.7.</strong> Normal forms</a></li></ol></li><li class="chapter-item expanded "><a href="../db3/sql-intermediate.html"><strong aria-hidden="true">9.</strong> Intermediate SQL</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../db3/exercises.html"><strong aria-hidden="true">9.1.</strong> Exercises</a></li></ol></li><li class="chapter-item expanded "><a href="../db4/sql-java.html"><strong aria-hidden="true">10.</strong> SQL and Java</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../db4/jdbc.html"><strong aria-hidden="true">10.1.</strong> JDBC</a></li><li class="chapter-item expanded "><a href="../db4/hibernate.html"><strong aria-hidden="true">10.2.</strong> Hibernate</a></li><li class="chapter-item expanded "><a href="../db4/sqlite.html"><strong aria-hidden="true">10.3.</strong> SQLite</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Exercises</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="build-tools-java"><a class="header" href="#build-tools-java">Build tools: Java</a></h1>
<p>In the Java world,</p>
<ul>
<li>The <code>javac</code> compiler turns source files (<code>.java</code>) into <code>.class</code> files;</li>
<li>The <code>jar</code> tool packs class files into <code>.jar</code> files;</li>
<li>The <code>java</code> command runs class files or jar files.</li>
</ul>
<p>A Java Runtime Environment (JRE) contains only the <code>java</code> command, which is all you need to run java applications if you don't want to do any development. Many operating systems allow you to double-click jar files (at least ones containing a special file called a <code>manifest</code>) to run them in a JRE.</p>
<p>A Java Development Kit (JDK) contains the <code>javac</code> and <code>jar</code> tools as well as a JRE. This is what you need to develop in java.</p>
<p><code>maven</code> is a Java package manager and build tool. It is not part of the Java distribution, so you will need to install it separately.</p>
<p>You can do this exercise either in your VM, or on your own machine where you have probably already installed Java for the OOP/Algorithms unit, and you can use your favourite editor. The exercises should work exactly the same way in both cases, there is nothing POSIX-specific here.</p>
<h2 id="installing-on-debian"><a class="header" href="#installing-on-debian">Installing on Debian</a></h2>
<p>On Debian, install the <code>openjdk-17-jdk</code> and <code>maven</code> packages. This
should set things up so you're ready to go but if you have <em>multiple
versions</em> of Java installed you may need to set the <code>JAVA_HOME</code> and
<code>PATH</code> variables to point to your install.</p>
<p>For example:</p>
<pre><code class="language-sh">export JAVA_HOME='/usr/lib/jvm/java-17-openjdk'
export PATH=&quot;${PATH}:${JAVA_HOME}/bin&quot;
</code></pre>
<div class="advanced container">
<header><span class="advanced-title"></span></header>
<div class="container-content">
<p>Debian also has a special command called <code>update-alternatives</code> that
can help manage alternative development environments for you.  Read
the manual page!</p>
</div>
</div>
<h2 id="installing-on-your-own-machine"><a class="header" href="#installing-on-your-own-machine">Installing on your own machine</a></h2>
<p>Use whatever package manager your OS comes with.  If you can't and
have to install it manually:</p>
<ul>
<li>download the <a href="http://openjdk.java.net/">OpenJDK</a> distribution</li>
<li>unzip it somewhere</li>
<li>add the binaries folder to your <code>PATH</code></li>
<li>set the <code>JAVA_HOME</code> variable to point to the folder where you unzipped the JDK.</li>
</ul>
<p>To install maven, <a href="https://maven.apache.org/install.html">follow these instructions</a> which again involve downloading a ZIP file, unzipping it somewhere and then putting the <code>bin</code> subfolder on your <code>PATH</code>.</p>
<p>Note: <code>JAVA_HOME</code> must be set correctly for maven to work.</p>
<h2 id="running-maven"><a class="header" href="#running-maven">Running maven</a></h2>
<p>Open a shell and type <code>mvn archetype:generate</code>. This lets you <em>generate an artifact from an archetype</em>, which is maven-speak for create a new folder with a maven file.</p>
<p><em>If you get a &quot;not found&quot; error, then most likely the maven <code>bin</code>
folder is not on your path. If you're on a POSIX system and have used
your package manager, this should be set up automatically, but if
you've downloaded and unzipped maven then you have to <code>export PATH=&quot;$PATH:...&quot;</code> where you replace the three dots with the path to
the folder, and preferably put that line in your <code>~/.profile</code> too.</em></p>
<p>|||advanced
On Windows, if you must user it, search online for instructions how
to set up the path variable, or you can drag-and-drop the <code>mvn.cmd</code>
file from an Explorer window into a Windows CMD terminal and it
should paste the full path, then press SPACE and enter the arguments
you want to pass.
|||</p>
<p>The first time you run it, maven will download a lot of libraries.</p>
<p>Maven will first show a list of all archetypes known to humankind (3046 at the time of counting) but you can just press ENTER to use the default, 2098 (&quot;quickstart&quot;). Maven now asks you for the version to use, press ENTER again.</p>
<p>You now have to enter the triple of (groupId, artifactId, version) for your project - it doesn't really matter but I suggest the following:</p>
<pre><code>groupId: org.example
artifactId: project
version: 0.1
</code></pre>
<p>Just press ENTER again for the following questions, until you get a success message.</p>
<p>Maven has created a folder named after your artifactId, but you can move and rename it if you want and maven won't mind as long as you run it from inside the folder. Use <code>cd project</code> or whatever you called it to go inside the folder.</p>
<p>If you're in a POSIX shell, then <code>find .</code> should show everything in the folder (in Windows, <code>start .</code> opens it in Explorer instead):</p>
<pre><code>.
./src
./src/main
./src/main/java
./src/main/java/org
./src/main/java/org/example
./src/main/java/org/example/App.java
./src/test
./src/test/java
./src/test/java/org
./src/test/java/org/example
./src/test/java/org/example/AppTest.java
./pom.xml
</code></pre>
<p>This is the standard maven folder structure. Your java sources live under <code>src/main/java</code>, and the default package name is <code>org.example</code> or whatever you put as your groupId so the main file is currently <code>src/main/java/org/example/App.java</code>. Since it's common to develop Java from inside an IDE or an editor with &quot;folding&quot; for paths (such as VS code), this folder structure is not a problem, although it's a bit clunky on the terminal.</p>
<h2 id="the-pom-file"><a class="header" href="#the-pom-file">The POM file</a></h2>
<p>Have a look at <code>pom.xml</code> in an editor. The important parts you need to know about are:</p>
<p>The artifact's identifier (group id, artifact id, version):</p>
<pre><code class="language-xml">&lt;groupId&gt;org.example&lt;/groupId&gt;
&lt;artifactId&gt;project&lt;/artifactId&gt;
&lt;version&gt;0.1&lt;/version&gt;
</code></pre>
<p>The build properties determine what version of Java to compile against (by passing a flag to the compiler). Unfortunately, the default maven template seems to go with version 7 (which for complicated reasons is called 1.7), but version 8 was released back in 2014 which is stable enough for us, so please change the 1.7 to 1.8 (there are some major changes from version 9 onwards, which I won't go into here):</p>
<pre><code class="language-xml">&lt;properties&gt;
    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;
    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;
&lt;/properties&gt;
</code></pre>
<p>The dependencies section is where you add libraries you want to use. By default, your project uses <code>junit</code>, a unit testing framework - note that this is declared with <code>&lt;scope&gt;test&lt;/scope&gt;</code> to say that it's only used for tests, not the project itself. You do not add this line when declaring your project's real dependencies.</p>
<pre><code class="language-xml">&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;junit&lt;/groupId&gt;
        &lt;artifactId&gt;junit&lt;/artifactId&gt;
        &lt;version&gt;4.11&lt;/version&gt;
        &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<p>The <code>&lt;plugins&gt;</code> section contains the plugins that maven uses to compile and build your project. This section isn't mandatory, but it's included to &quot;lock&quot; the plugins to a particular version so that if a new version of a plugin is released, that doesn't change how your build works.</p>
<p>The one thing you should add here is the <code>exec-maven-plugin</code> as follows, so that you can actually run your project:</p>
<pre><code class="language-xml">&lt;plugin&gt;
    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;3.0.0&lt;/version&gt;
    &lt;configuration&gt;
        &lt;mainClass&gt;org.example.App&lt;/mainClass&gt;
    &lt;/configuration&gt;
&lt;/plugin&gt;
</code></pre>
<p>The important line is the <code>mainClass</code> which you set to the full name (with path components) of your class with the <code>main()</code> function.</p>
<h2 id="compile-run-and-develop"><a class="header" href="#compile-run-and-develop">Compile, run and develop</a></h2>
<p><code>mvn compile</code> compiles the project. The very first time you do this, it will download a lot of plugins, after that it will be pretty fast. Like <code>make</code>, it only compiles files that have changed since the last run, but if this ever gets out of sync (for example because you cancelled a compile halfway through) then <code>mvn clean</code> will remove all compiled files so the next compile will rebuild everything.</p>
<p>The <code>App.java</code> file contains a basic &quot;Hello World!&quot; program (have a look at this file). You can run the compiled project with <code>mvn exec:java</code> if you've set up the plugin as above. After you've run it the first time and it's downloaded all the files it needs, lines coming from maven itself will start with <code>[INFO]</code> or <code>[ERROR]</code> or similar, so lines without any prefix like that are printed by your program itself. You should see the hello world message on your screen.</p>
<p>The development workflow is now as follows: you make your edits, then run <code>mvn compile test exec:java</code> to recompile, run your tests, then run the program. (Like <code>make</code>, you can put more than one target on a command, separated by spaces.)</p>
<p><code>mvn test</code> runs the tests in <code>src/test/java</code>. There is an example test already created for you (have a look).</p>
<p><code>mvn package</code> creates a jar file of your project in the <code>target/</code> folder.</p>
<p>I assume that you will be storing your Java projects in git repositories. In this case, you should create a file <code>.gitignore</code> in the same folder as the <code>pom.xml</code> and add the line <code>target/</code> to it, since you don't want the compiled classes and other temporary files and build reports in the repository. The <code>src/</code> folder, the <code>pom.xml</code> and the <code>.gitignore</code> file itself should all be checked in to the repository.</p>
<p><em>Exercise: make a change to the Java source code, then recompile and run with maven.</em></p>
<h2 id="adding-a-dependency"><a class="header" href="#adding-a-dependency">Adding a dependency</a></h2>
<p><a href="https://www.thymeleaf.org/">Thymeleaf</a> is a Java templating library. It lets you write a template file or string for example (depending on the syntax of your library)</p>
<pre><code>Hello, ${name}!
</code></pre>
<p>which you can later render with a particular name value. This is one of the standard ways of creating web applications, for example to display someone's profile page you would write a page template that takes care of the layout, styles, links etc. but uses template variables for the fields (name, email, photo etc.) which you render when someone accesses the profile page for a particular person. You will see this in more detail in your SPE project next year.</p>
<p>To use Thymeleaf or any other library, you first have to add it to your pom file. Go to <a href="https://mvnrepository.org">mvnrepository.org</a> and search for Thymeleaf, then find the latest stable (&quot;release&quot;) version. There is a box where you can copy the <code>&lt;dependency&gt;</code> block to paste in your pom file. The next <code>mvn compile</code> will download thymeleaf and all its dependencies.</p>
<p>Next, make a template file called <code>unit</code> in the folder <code>src/main/resources/templates</code> (you will have to create the folder first), and put the following lines in it:</p>
<pre><code>Unit: [(${name})]

In this unit, you will learn about:

[# th:each=&quot;topic: ${topics}&quot;]
  - [(${topic})]
[/]
</code></pre>
<p>This is thymeleaf &quot;text&quot; syntax, where the first line renders the value of a variable and the third-from-last line is the template equivalent of a 'for' loop that renders its contents once for each element in a list (or other collection data structure).</p>
<p>Thymeleaf needs to know where to find its template files, and in this example we are going to demonstrate loading resources from the classpath because that is the correct way to work with resources in a java application (there are special considerations for web applications, but they usually end up using the classpath in the end anyway).</p>
<p>In your Java source file, you can now do the following. First, the imports you will need:</p>
<pre><code class="language-java">import java.util.List;
import java.util.Arrays;

import org.thymeleaf.TemplateEngine;
import org.thymeleaf.context.Context;
import org.thymeleaf.templatemode.TemplateMode;
import org.thymeleaf.templateresolver.ClassLoaderTemplateResolver;
</code></pre>
<p>And the code:</p>
<pre><code class="language-java">ClassLoaderTemplateResolver resolver = new ClassLoaderTemplateResolver();
resolver.setTemplateMode(TemplateMode.TEXT);
resolver.setPrefix(&quot;templates/&quot;);

TemplateEngine engine = new TemplateEngine();
engine.setTemplateResolver(resolver);

Context c = new Context();
c.setVariable(&quot;name&quot;, &quot;Software Tools&quot;);
List&lt;String&gt; topics = Arrays.asList(&quot;Linux&quot;, &quot;Git&quot;, &quot;Maven&quot;);
c.setVariable(&quot;topics&quot;, topics);
String greeting = engine.process(&quot;unit&quot;, c);

System.out.println(greeting);
</code></pre>
<p>Compile and run this, and you should see:</p>
<pre><code>Unit: Software Tools

In this unit, you will learn about:

  - Linux
  - Git
  - Maven
</code></pre>
<p>Let's look at how the code works.</p>
<ol>
<li>A template resolver is a class that finds a template when you give it a name (here: &quot;unit&quot;). In this case we use a resolver that loads off the classpath, so we just have to put the template files somewhere under <code>src/main/resources</code>; we tell it that we want the template files treated as text (e.g. not HTML), and that the template files are in a subfolder called <code>templates</code>.</li>
<li>The template engine is the class that does the work of rendering the template, once the resolver has found the source file. </li>
<li>To render a template, you need a template name for the resolver to look up, and a context - an object on which you can set key/value parameters. In this case we're setting the key &quot;name&quot; to &quot;Software Tools&quot; and the key &quot;topics&quot; to a list of three topics. The names and types of keys obviously have to match what's in the template file.</li>
</ol>
<p><em>Exercise: rewrite this example to be a bit more object-oriented by creating a unit class:</em></p>
<pre><code class="language-java">public class Unit {
    private String name;
    private List&lt;String&gt; topics;
    public Unit(String name, List&lt;String&gt; topics) {
        this.name = name;
        this.topics = topics;
    }
    public String getName() { return this.name; }
    public List&lt;String&gt; getTopics() { return this.topics; }
}
</code></pre>
<p><em>You will still need one single <code>setVariable</code> call, and in the template the syntax <code>[(${unit.name})]</code> should translate into a call to the getter.</em></p>
<div class="advanced container">
<header><span class="advanced-title"></span></header>
<div class="container-content">
<p>More recent releases of Java have wonderful things called <code>records</code>
that make your life <em>a lot</em> easier.  All that above code translates to just:</p>
<pre><code class="language-java">public record Unit(String name, List&lt;String&gt; topics) {}
</code></pre>
<p>Unfortunately support for more recent Java releases is a bit spotty
(and worse in the <em>real</em> world).  You'll need to get rid of the
<code>maven.compiler.target</code> and <code>maven.compiler.source</code> bits you added in
your pom.xml and replace it with a new:</p>
<pre><code>&lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;
</code></pre>
</div>
</div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../build2/python.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../build2/spring.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../build2/python.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../build2/spring.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
